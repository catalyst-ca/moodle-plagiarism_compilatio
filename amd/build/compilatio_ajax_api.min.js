define(["jquery"],function(i){function a(){i(".cmp-btn-lg").each(function(){i(this).attr("disabled","disabled"),i(this).addClass("disabled"),i(this).attr("href","#")})}var t={};return t.toggleIndexingState=function(a,t,c){i(document).ready(function(){setTimeout(function(){var o=i(".cmp-"+t+" .cmp-library");o.click(function(){if((el=o.find("i")).is(".cmp-library-in"))var t=0;if(el.is(".cmp-library-out"))var t=1;i.post(a+"/plagiarism/compilatio/ajax/set_indexing_state.php",{idDoc:c,indexingState:t},function(i){"true"==i&&(0==t?(el.removeClass("cmp-library-in"),el.addClass("cmp-library-out"),el.removeClass("fa-check-circle"),el.addClass("fa-times-circle")):(el.removeClass("cmp-library-out"),el.addClass("cmp-library-in"),el.removeClass("fa-times-circle"),el.addClass("fa-check-circle")))})})},3e3)})},t.startAllAnalysis=function(t,c,o){i(document).ready(function(){i("button.cmp-start-btn").click(function(){a(),i("#cmp-stats, #cmp-help, #cmp-home, #cmp-search, #cmp-notifications").hide(),i("#cmp-tabs-separator").after("<div class='cmp-alert cmp-alert-info'>"+o+"</div>"),i.post(t+"/plagiarism/compilatio/ajax/start_all_analysis.php",{cmid:c},function(){window.location.reload()})})})},t.startAnalysis=function(a,t,c){i(document).ready(function(){setTimeout(function(){i(".cmp-"+t+" .cmp-btn").click(function(){i.post(a+"/plagiarism/compilatio/ajax/start_analysis.php",{docId:c},function(){window.location.reload()})})},300)})},t.restartFailedAnalysis=function(t,c,o){i(document).ready(function(){i("button.cmp-restart-btn").click(function(){a(),i("#cmp-stats, #cmp-help, #cmp-home, #cmp-search, #cmp-notifications").hide(),i("#cmp-tabs-separator").after("<div class='cmp-alert cmp-alert-info'>"+o+"</div>"),i.post(t+"/plagiarism/compilatio/ajax/restart_failed_analysis.php",{cmid:c},function(){window.location.reload()})})})},t.validateTermsOfService=function(a,t){i(document).ready(function(){i("#tos-btn").click(function(){i.post(a+"/plagiarism/compilatio/ajax/validate_terms_of_service.php",{userid:t},function(){window.location.reload()})})})},t.displayButton=function(a,t,c,o,s,n,e,p,r){i(document).ready(function(){i.post(a+"/plagiarism/compilatio/ajax/display_button.php",{cantriggeranalysis:t,isstudentanalyse:c,cmpfileid:o,canviewreport:s,isteacher:n,url:e,filename:p,domid:r},function(a){i("#cmp-"+r).append(a)}),setInterval(function(){i.post(a+"/plagiarism/compilatio/ajax/display_button.php",{cantriggeranalysis:t,isstudentanalyse:c,cmpfileid:o,canviewreport:s,isteacher:n,url:e,filename:p,domid:r},function(a){let t=i("#cmp-"+r);t.empty(),t.append(a)})},6e4)})},t.compilatioTabs=function(a,t){i(document).ready(function(){i("#cmp-tabs").show();var c="";i(c=t?"#cmp-search":a>0?"#cmp-notifications":"#cmp-home").show(),i("#cmp-show-notifications").on("click",function(){n(i(this),i("#cmp-notifications"))}),i("#show-stats").on("click",function(){n(i(this),i("#cmp-stats"))}),i("#show-help").on("click",function(){n(i(this),i("#cmp-help"))}),i("#show-search").on("click",function(){n(i(this),i("#cmp-search"))});var o=i("#cmp-show-notifications, #show-stats, #show-help, #show-search"),s=i("#cmp-notifications, #cmp-stats, #cmp-help, #cmp-home, #cmp-search");function n(a,t){t.is(":visible")||(t.show(),s.not(t).hide(),o.not(a).removeClass("active"),a.toggleClass("active"),i("#cmp-hide-area").fadeIn(),i("#cmp-tabs-separator").show())}i("#cmp-logo").on("click",function(){var a=i("#cmp-home");a.show(),s.not(a).hide(),o.removeClass("active"),i("#cmp-hide-area").fadeIn(),i("#cmp-tabs-separator").show()}),i("#cmp-hide-area").on("click",function(){s.hide(),i(this).fadeOut(),o.removeClass("active"),i("#cmp-tabs-separator").hide()})})},t});